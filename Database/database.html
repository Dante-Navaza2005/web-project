<html>
    <head>
        <title>User Login</title>
        <link rel="stylesheet" href="firebase.css">
    </head>
    <body>
        <form id="product_form">
        <h1> Add a new user: </h1>
        <label>Username:</label>
        <input type="text" id="username">
        <label>Password:</label>
        <input type="password" id="password">
        <input type="submit" value="Go!" class="submit_button"></input>
        </form>
    </body>
</html>

<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.21.0/firebase-app.js";
    import { getFirestore, setDoc, addDoc, collection} from "https://www.gstatic.com/firebasejs/9.21.0/firebase-firestore.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.21.0/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyDICKYpJYrcIu3rlKjDXhvfzeF_Cr4MJTo",
      authDomain: "the-incursion.firebaseapp.com",
      projectId: "the-incursion",
      storageBucket: "the-incursion.appspot.com",
      messagingSenderId: "622954536041",
      appId: "1:622954536041:web:5b887e804304e7563816f8",
      measurementId: "G-096M1ZLY0K"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const database = getFirestore(app);

    var form = document.getElementById("product_form");
    form.addEventListener("submit", (event) =>{
        
        var name = document.getElementById("username").value;
        var password = document.getElementById("password").value

        addDoc(collection(database, "Users"), {
            name: name,
            password: password,
        });

        alert("User added!")
        event.preventDefault();
        // This will happen as soon the button is clicked
    });
  </script>